---
marp: true
---

# 커맨드 패턴

---

## 행위 패턴

객체나 클래스 사이의 알고리즘이나 책임 분배에 관련된 패턴  
한 객체가 혼자 수행할 수 없는 작업을 여러 개의 객체로 어떻게 분배하는지, 또 그렇게 하면서도 객체 사이의 결합도를 최소화하는 것에 중점을 둔다.

---

## 커맨드 패턴이란?

실행될 기능(명령)을 캡슐화함으로써 여러 기능을 실행할 수 있는 재사용성이 높은 클래스를 설계하는 패턴

- 자바스크립트에서는 명령이 함수나 객체의 형태일 수 있다.
- 명령이 독립적으로 있기 때문에 얼마든지 새로운 명령을 추가할 수 있다.
- undo 메소드를 만들어서 잘못된 명령을 내렸을 때 이전으로 되돌릴 수 있다.

---

## 커맨드 패턴에 참여하는 네 개의 클래스

**수신자(Receiver)** – 실제 작업을 수행한다. 할수 있는 여러 행동을 가지고 있다.
**커맨드(Command)** – 실행될 기능에 대한 인터페이스, 실행될 기능을 execute 메서드로 선언한다.
**컨크리트커맨드(Command)** - 실제로 실행되는 기능을 구현, 수신자에 대한 정보를 가지고 있다.
**호출자(Invoker)** – 하나 또는 여러 커맨드의 순서와 실행을 제어한다.  
**클라이언트(Client)** – 클라이언트 객체는 인보커 객체와 하나 이상의 커맨드 객체를 보유한다. 명령을 수행하기 위해 인보커 객체로 커맨드 객체를 전달한다.

---

![img](https://byulmuri.files.wordpress.com/2010/07/ecbba4eba7a8eb939ced8ca8ed84b42.png)

---

## 예를 들면!

| 식당주문시스템                       | 커멘드패턴   |
| ------------------------------------ | ------------ |
| 손님                                 | 클라이언트   |
| 웨이터                               | 인보커 객체  |
| 주문받기                             | setCommand() |
| 주문서                               | 커맨드 객체  |
| 주문을 주방장에게 전달하여 요리 요청 | execute()    |
| 주방장                               | 리시버 객체  |

- 웨이터는 주문이 무엇인지 몰라도 상관이 없다!
- 주방장은 자기만의 방법으로 주문을 요리할수 있다.

---

## 결론

- 장점

  - 기능이 추가된다면, 커맨드 클래스를 추가하면 되므로, OCP에 위배되지 않으면서 기능을 추가할 수 있다.
  - 여러 명령을 모아서 실행하는 매크로 명령 등 확장된 코드 사용이 가능하다.

- 단점

  - 객체 구성 부분이 추가 되면 추상부분부터 수정해서 추가해 줘야 한다
  - 많은 명령 클래스를 관리해야하고 구조적 복잡도가 커진다.

- 명령패턴을 적용할 코드의 규모가 크고, 빈번한 수정, 확장이 일어날때 이 패턴을 적용하는 것이 좋다.

---

## 참고

https://gdtbgl93.tistory.com/23  
https://gmlwjd9405.github.io/2018/07/07/command-pattern.html
